(function(e){function t(t){for(var a,i,u=t[0],l=t[1],s=t[2],d=0,f=[];d<u.length;d++)i=u[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,u=1;u<n.length;u++){var l=n[u];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{attrs:{id:"app"}},[n("div",{staticClass:"photoContainer"},[n("DrawCanvasImage")],1)])},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drawCanvas",style:{backgroundImage:"url("+e.myImage+")"}},[n("img",{staticClass:"illustrationImage",attrs:{src:e.illustrationImage}})])},u=[],l={name:"drawCanvas",data(){return{myImage:this.$store.state.myImage,illustrationImage:this.$store.state.illustrationImage}},mounted(){var e=document.querySelector(".illustrationImage"),t=document.createElement("canvas"),n=t.getContext("2d"),a=document.createElement("canvas"),r=a.getContext("2d"),o=1e3,i=[];function u(){t.addEventListener("mousemove",l),t.addEventListener("touchmove",s),window.addEventListener("resize",c),document.querySelector(".drawCanvas").appendChild(t),c(),d()}function l(e){var n=t.getBoundingClientRect();i.push({time:Date.now(),x:e.pageX-n.left,y:e.pageY-n.top})}function s(e){var n=e.targetTouches[0],a=t.getBoundingClientRect();i.push({time:Date.now(),x:n.pageX-a.left,y:n.pageY-a.top})}function c(){t.width=a.width=document.querySelector(".photoContainer").offsetWidth,t.height=a.height=document.querySelector(".photoContainer").offsetHeight}function d(){i=i.filter(function(e){var t=Date.now()-e.time;return t<o}),f(),h(),requestAnimationFrame(d)}function f(){var e=80,t=80,n=t-e,u=100;r.clearRect(0,0,a.width,a.height),r.lineCap="round";for(var l=1;l<i.length;l++){var s=i[l],c=i[l-1],d=p(s,c),f=Math.max(0,Math.min(u,d)),h=(u-f)/u;r.lineWidth=e+h*n;var m=Date.now()-s.time,g=(o-m)/o;r.strokeStyle="rgba(0, 0, 0, "+g+")",r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(s.x,s.y),r.stroke()}}function p(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function h(){window.devicePixelRatio;null!=document.querySelector(".drawCanvas")&&(t.width=document.querySelector(".drawCanvas").offsetWidth,t.height=document.querySelector(".drawCanvas").offsetHeight);var r=t.width,o=t.width/e.naturalWidth*e.naturalHeight;o<t.height&&(r=t.height/e.naturalHeight*e.naturalWidth,o=t.height),n.clearRect(0,0,r,o),n.globalCompositeOperation="source-over",n.drawImage(e,0,0,r,o),n.globalCompositeOperation="destination-in",n.drawImage(a,0,0)}e.complete?u():e.onload=u}},s=l,c=(n("9e70"),n("2877")),d=Object(c["a"])(s,i,u,!1,null,null,null),f=d.exports,p={components:{DrawCanvasImage:f}},h=p,m=Object(c["a"])(h,r,o,!1,null,null,null),g=m.exports,v=n("2f62");a["a"].use(v["a"]);var w=new v["a"].Store({state:{myImage:"/../assets/images/face.png",illustrationImage:"/../assets/images/face-after.png"}});new a["a"]({store:w,render:e=>e(g)}).$mount("#app")},"6f78":function(e,t,n){},"9e70":function(e,t,n){"use strict";var a=n("6f78"),r=n.n(a);r.a}});